<html>
    <head>
        <style>
            table {
                border: 1px solid black;
            }

            th {
                text-align: left;
                padding-right: 15px;
            }

            tr#top th {
                text-align: center;
            }

            td.time {
            }

            td.time.won {
                border: 2px solid #30FF70;
            }

            td.time.lost {
                border: 2px solid #FF0000;
            }

            td a {
                padding-right: 6px;
            }

            tr.even {
                background: #f0f0f0;
            }

            tr.odd {
                background: #d0d0d0;
            }
        </style>
    </head>

    <body>

        Profiling done via NYTProf. Raw data is the .out file produced.

        <p>

        <table>
            <tr id="top">
                <th>Branch</th>
                <th>Perl Build</th>
                <th>Moose Build</th>
                <th colspan="2">Profiling</th>
                <th>Description</th>
            </tr>

            <tr class="even">
                <th><a href="https://github.com/Test-More/test-more/tree/stable">stable</a></th>
                <td class="time">
                    <table>
                        <tr><th>Wall</th><th>usr</th><th>sys</th><th>cusr</th><th>csys</th></tr>
                        <tr><td>762s</td><td>7.07</td><td>3.77</td><td>407.45</td><td>41.38</td></tr>
                    </table>
                </td>
                <td class="time">
                    <table>
                        <tr><th>Wall</th><th>usr</th><th>sys</th><th>cusr</th><th>csys</th><th>CPU</th></tr>
                        <tr><td>93s</td><td>2.99</td><td>1.04</td><td>86.41</td><td>5.00</td><td>95.44</td></tr>
                    </table>
                </td>
                <td>
                    <a href="nytprof-stable-long/index.html">long</a>
                </td>
                <td>
                    <a href="nytprof-stable-start/index.html">start</a>
                </td>
                <td>Legacy code, no refactoring.</td>
            </tr>

            <tr class="odd">
                <th><a href="https://github.com/Test-More/test-more/tree/master">master</a></th>
                <td class="time">
                    <table>
                        <tr><th>Wall</th><th>usr</th><th>sys</th><th>cusr</th><th>csys</th></tr>
                        <tr><td>792s</td><td>7.34</td><td>3.91</td><td>453.60</td><td>43.7</td></tr>
                    </table>
                </td>
                <td class="time">
                    <table>
                        <tr><th>Wall</th><th>usr</th><th>sys</th><th>cusr</th><th>csys</th><th>CPU</th></tr>
                        <tr><td>104s</td><td>3.04</td><td>1.09</td><td>95.50</td><td>5.96</td><td>105.59</td></tr>
                    </table>
                </td>
                <td>
                    <a href="nytprof-master-long/index.html">long</a>
                </td>
                <td>
                    <a href="nytprof-master-start/index.html">start</a>
                </td>
                <td>Test-Stream refactoring. This branch uses arrays as the base for most objects, constants are used to index into the arrays.</td>
            </tr>

            <tr class="even">
                <th><a href="https://github.com/Test-More/test-more/tree/hash_with_const_no_event">hash_with_const_no_event</a></th>
                <td class="time">
                </td>
                <td class="time">
                    <table>
                        <tr><th>Wall</th><th>usr</th><th>sys</th><th>cusr</th><th>csys</th><th>CPU</th></tr>
                        <tr><td>104s</td><td>3.20</td><td>1.03</td><td>96.67</td><td>5.75</td><td>106.65</td></tr>
                    </table>
                </td>
                <td>
                    <a href="nytprof-hwcne-long/index.html">long</a>
                </td>
                <td>
                    <a href="nytprof-hwcne-start/index.html">start</a>
                </td>
                <td>Test-Stream refactoring. This branch uses arrays as the base for event objects, hashes for all others. Constants are used to index into the hashes and arrays.</td>
            </tr>

            <tr class="odd">
                <th><a href="https://github.com/Test-More/test-more/tree/hash_with_const">hash_with_const</a></th>
                <td class="time">
                </td>
                <td class="time">
                    <table>
                        <tr><th>Wall</th><th>usr</th><th>sys</th><th>cusr</th><th>csys</th><th>CPU</th></tr>
                        <tr><td>105s</td><td>3.23</td><td>1.04</td><td>96.74</td><td>5.93</td><td>106.94</td></tr>
                    </table>
                </td>
                <td>
                    <a href="nytprof-hwc-long/index.html">long</a>
                </td>
                <td>
                    <a href="nytprof-hwc-start/index.html">start</a>
                </td>
                <td>Test-Stream refactoring. This branch uses hashes for nearly all objects. Constants are used to index into the hashes when speed matters.</td>
            </tr>

            <tr class="even">
                <th><a href="https://github.com/Test-More/test-more/tree/hash_no_constants">hash_no_constants</a></th>
                <td class="time">
                </td>
                <td class="time">
                    <table>
                        <tr><th>Wall</th><th>usr</th><th>sys</th><th>cusr</th><th>csys</th><th>CPU</th></tr>
                        <tr><td>103s</td><td>3.22</td><td>1.05</td><td>95.56</td><td>5.86</td><td>105.69</td></tr>
                    </table>
                </td>
                <td>
                    <a href="nytprof-hnc-long/index.html">long</a>
                </td>
                <td>
                    <a href="nytprof-hnc-start/index.html">start</a>
                </td>
                <td>Test-Stream refactoring. This branch uses hashes for all objects, and little if any direct hash access</td>
            </tr>

        </table>

        <p>

        All times and profiling were done on the same machine:

        <pre>
Intel core I7-2670QM 2.20ghz
12GB ram
SSD drive
Ubuntu server 14.10, fresh install

perl-5.20.2 installed via perlbrew
        </pre>

        Perl Build times were taken from a build+test of perl-blead at commit
        479ae48e22f1160cf86508685822bf7e53e5816b with the proper branch of
        Test-Simple merged in.

        <p>

        Moose build times were all run on the same perl-5.20.2 install. Moose and all
        deps were installed first, then build times taken were using cpanm to reinstall
        Moose with the correct Test-Simple installed.

    </body>
</html>
